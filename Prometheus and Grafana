Prometheus is an open source system that collects and manages server and application metrics. It can be configured to notify your team when an issue arrises
Grafana is an open source tool allows you to easily visualize information ( it collect information from server monitoring tools like prometheus to display information)
Prometheus can check for request time 
To install Prometheus
Use the command "kubectl create ns apm" to create a namespace
Use the command "kubectl config set-content --current --namespace=apm" to get into the namespace
helm repo add prometheus https://charts.heml.sh/stable 
helm search repo prometheus  (select the one that says prometheus/prometheus)
You can run "helm show value prometheus
if you don't like what is written in it, run this command
helm show value prometheus > value.yml
Then vi into value.yml to edit it to what you want
You can run "helm template prometheus"
heml intsall prometheus "they first name you saw after you search for prometheus" prometheus/prometheus
If you redirect the show values into another file to install the changes you made in the new file erun this command
helm install prometheus promethus/prometheus -f value.yml
If you want to install with the default "show value" file run this command:
helm install prometheus promethus/prometheus 


Note if the command above to work dirctly on the apm namespace does not work then if you want to install it you have to pass the namespace:
helm install prometheus promethus/prometheus -n apm


How to install Grafana
helm repo add grafana https://grafana.github.io/helm-charts
helm repo updates
helm search repo grafana
helm show value grafana
helm template grafana
heml install grafana "name you want after you ran helm search repo" grafana/grafana -n apm

After installing grafana you will get a long note on the screen numbered 1-3 and the No 1 has the command to run to create grafana secret in which the 
the password will be passed

Note:
Run the command kubectl get svc -n apm (use the -n if it was created in a different namespace not default and "apm" here is the name of the namespace
You will see promethus created a lot of services but the most important to take note so as to be able to access it on the browser using nginx ingress
1. Prometheus-alertmanager
2. Prometheus-server
And for grafana the service to integerate with nginx ingress so as ton access on the browser since a cluster IP was created is: 
3.Grafana



To assess this on the browser you have to create a nginx ingress
Go to route 53 and create A records for the application 

Create a host based ingress.yal file

apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ingress-wildcard-host
spec:
  rules:
  - host: prometheus server.com (input the host name you created for the first application here)
    http:
      paths:
      - pathType: Prefix
        path: /
        backend:
          service:
            name: prometheus server ( service name for the application )
            port:
              number: 80  ( what port is the application running on)
  - host: prometheus-alertmanager.net (input the host name you created for the second application here)
    http:
      paths:
      - pathType: Prefix 
        path: /
        backend:
          service:
            name: prometheus-alertmanager ( service name for the application )
            port:
              number: 80( what port is the application running on)
  - host: grafana.taiwo.com (input the host name you created for the third application here)
    http:
      paths:
      - pathType: Prefix 
        path: /
        backend:
          service:
            name: grafana ( service name for the application )
            port:
              number: 80( what port is the application running on)
              

              
